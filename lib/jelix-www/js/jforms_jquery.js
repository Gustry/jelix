!function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=$},function(e,t,r){"use strict";function i(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}r.r(t),i.prototype.check=function(e,t){return 1==e||0==e};var s=r(0),n=r.n(s);const a={_forms:{},tForm:null,selectFillUrl:"",config:{},_submitListener:function(e){let t=a.getForm(e.target.attributes.getNamedItem("id").value);n()(e.target).trigger("jFormsUpdateFields");let r=!0;try{for(let i=0;i<t.preSubmitHandlers.length;i++)t.preSubmitHandlers[i](e)||(r=!1);a.verifyForm(e.target)||(r=!1);for(let i=0;i<t.postSubmitHandlers.length;i++)t.postSubmitHandlers[i](e)||(r=!1)}catch(e){return!1}return r},declareForm:function(e){this._forms[e.name]=e,n()("#"+e.name).bind("submit",a._submitListener)},getForm:function(e){return this._forms[e]},verifyForm:function(e){this.tForm=this._forms[e.attributes.getNamedItem("id").value];let t=!0;this.tForm.errorDecorator.start(this.tForm);for(let e=0;e<this.tForm.controls.length;e++)this.verifyControl(this.tForm.controls[e],this.tForm)||(t=!1);return t||this.tForm.errorDecorator.end(),t},verifyControl:function(e,t){let r;if("function"==typeof e.getValue)r=e.getValue();else{let i=t.element.elements[e.name];if(!i)return!0;r=this.getValue(i)}if(null===r||!1===r){if(e.required)return t.errorDecorator.addError(e,1),!1}else if(!e.check(r,t))return"getChild"in e||t.errorDecorator.addError(e,2),!1;return!0},getValue:function(e){if(e.nodeType){let t,r=[];switch(e.nodeName.toLowerCase()){case"input":if("checkbox"===e.getAttribute("type"))return e.checked;case"textarea":return t=n.a.trim(e.value),""!==t?t:null;case"select":if(!e.multiple)return""!==e.value?e.value:null;for(let t=0;t<e.options.length;t++)e.options[t].selected&&r.push(e.options[t].value);return r.length?r:null}}else if(this.isCollection(e)){let t=[];for(let r=0;r<e.length;r++){let i=e[r];i.checked&&t.push(i.value)}if(t.length)return"radio"===e[0].getAttribute("type")?t[0]:t}return null},hasClass:function(e,t){return n()(e).hasClass(t)},addClass:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)n()(e[r]).addClass(t);else n()(e).addClass(t)},removeClass:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)n()(e[r]).removeClass(t);else n()(e).removeClass(t)},setAttribute:function(e,t,r){if(this.isCollection(e))for(let i=0;i<e.length;i++)e[i].setAttribute(t,r);else e.setAttribute(t,r)},removeAttribute:function(e,t){if(this.isCollection(e))for(let r=0;r<e.length;r++)e[r].removeAttribute(t);else e.removeAttribute(t)},isCollection:function(e){return"undefined"!=typeof HTMLCollection&&e instanceof HTMLCollection||("undefined"!=typeof NodeList&&e instanceof NodeList||(e instanceof Array||null!=e.length&&(null==e.localName||"SELECT"==e.localName||"select"!=e.localName)))}};var l=a;function o(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.items={},this.readOnly=!1}function d(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function h(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this._masterControl=e.replace(/_confirm$/,"")}function m(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.multiFields=!1,this.minDate=null,this.maxDate=null,this.readOnly=!1}function u(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minDate=null,this.maxDate=null,this.multiFields=!1,this.readOnly=!1}function c(e,t){this.name=e,this.label=t,this.required=!1,this.minValue=-1,this.maxValue=-1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function f(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function p(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1,this.children=[],this.hasCheckbox=!1}function v(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function g(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.readOnly=!1}function b(e,t){this.name=e,this.label=t,this.required=!1,this.minValue=-1,this.maxValue=-1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function C(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function y(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function _(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.lang="",this.readOnly=!1}function j(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.lang="",this.readOnly=!1}function F(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.regexp=null,this.readOnly=!1}function I(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.minLength=-1,this.maxLength=-1,this.regexp=null,this.readOnly=!1}function A(e,t){this.name=e,this.label=t,this.multiFields=!1,this.required=!1,this.errInvalid="",this.errRequired="",this.minTime=null,this.maxTime=null,this.readOnly=!1}function x(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired=""}function q(e,t){this.name=e,this.label=t,this.required=!1,this.errInvalid="",this.errRequired="",this.readOnly=!1}function D(){this.message=""}function O(){this.message=""}function k(e,t,r){this.selector=t,this.formId=r,this.name=e,this.controls=[],this.errorDecorator=new O,this.element=n()("#"+e).get(0),this.allDependencies={},this.updateInProgress=!1,this.controlsToUpdate=[],this.preSubmitHandlers=[],this.postSubmitHandlers=[]}o.prototype={addControl:function(e,t){void 0===this.items[t]&&(this.items[t]=[]),e&&(this.items[t].push(e),e.formName=this.formName)},getChild:function(e){for(var t in this.items)for(var r=0;r<this.items[t].length;r++){var i=this.items[t][r];if(i.name==e)return i}return null},check:function(e,t){if(null==this.items[e])return!1;for(var r=this.items[e],i=!0,s=0;s<r.length;s++){l.verifyControl(r[s],t)||(i=!1)}return i},activate:function(e){var t=document.getElementById(this.formName);for(var r in this.items){var i=this.items[r],s=document.getElementById(this.formName+"_"+this.name+"_"+r+"_item");s&&(e==r?(l.addClass(s,"jforms-selected"),l.removeClass(s,"jforms-notselected")):(l.removeClass(s,"jforms-selected"),l.addClass(s,"jforms-notselected")));for(var n=0;n<i.length;n++){var a=i[n];if("function"!=typeof a.deactivate){var o=t.elements[a.name];e!=r||a.readOnly?(l.setAttribute(o,"disabled","disabled"),l.addClass(o,"jforms-disabled")):(l.removeAttribute(o,"disabled"),l.removeClass(o,"jforms-disabled"))}else a.readOnly?a.deactivate(!0):a.deactivate(e!=r)}}}},d.prototype.check=function(e,t){return-1!=e.search(/^#[a-f0-9A-F]{6}$/)},h.prototype.check=function(e,t){return l.getValue(t.element.elements[this._masterControl])===e},m.prototype.check=function(e,t){let r=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(null==r)return!1;let i=parseInt(r[1],10),s=parseInt(r[2],10)-1,n=parseInt(r[3],10),a=new Date(i,s,n,0,0,0);return i==a.getFullYear()&&s==a.getMonth()&&n==a.getDate()&&!(null!==this.minDate&&e<this.minDate||null!==this.maxDate&&e>this.maxDate)},m.prototype.getValue=function(){if(!this.multiFields){let e=n.a.trim(n()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}let e="#"+this.formName+"_"+this.name,t=n()(e+"_year").val()+"-"+n()(e+"_month").val()+"-"+n()(e+"_day").val();return"--"===t?null:t},m.prototype.deactivate=function(e){let t="#"+this.formName+"_"+this.name;e?this.multiFields?(n()(t+"_year").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_month").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_day").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!1)):n()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(n()(t+"_year").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_month").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_day").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!0)):n()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},u.prototype.check=function(e,t){let r=e.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;let i=parseInt(r[1],10),s=parseInt(r[2],10)-1,n=parseInt(r[3],10),a=parseInt(r[4],10),l=parseInt(r[5],10),o=0;null!=r[7]&&""!=r[7]&&(o=parseInt(r[7],10));let d=new Date(i,s,n,a,l,o);return i==d.getFullYear()&&s==d.getMonth()&&n==d.getDate()&&a==d.getHours()&&l==d.getMinutes()&&o==d.getSeconds()&&!(null!==this.minDate&&e<this.minDate||null!==this.maxDate&&e>this.maxDate)},u.prototype.getValue=function(){if(!this.multiFields){let e=n.a.trim(n()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}let e="#"+this.formName+"_"+this.name,t=n()(e+"_year").val()+"-"+n()(e+"_month").val()+"-"+n()(e+"_day").val()+" "+n()(e+"_hour").val()+":"+n()(e+"_minutes").val(),r=n()("#"+this.formName+"_"+this.name+"_seconds");if("hidden"!==r.attr("type")){if(t+=":"+r.val(),"-- ::"===t)return null}else if("-- :"===t)return null;return t},u.prototype.deactivate=function(e){let t="#"+this.formName+"_"+this.name;e?this.multiFields?(n()(t+"_year").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_month").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_day").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_hour").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_minutes").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_seconds").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!1)):n()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(n()(t+"_year").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_month").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_day").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_hour").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_minutes").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_seconds").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!0)):n()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},c.prototype.check=function(e,t){return-1!=e.search(/^\s*[+-]?\d+(\.\d+)?\s*$/)&&(!(-1!=this.minValue&&parseFloat(e)<this.minValue)&&!(-1!=this.maxValue&&parseFloat(e)>this.maxValue))},f.prototype.check=function(e,t){return-1!=e.search(/^(("[^"f\n\r\t\b]+")|([\w!#$%&'*+-~/^`|{}]+(\.[\w!#$%&'*+-~/^`|{}]+)*))@((\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\.)+[A-Za-z-]+))$/)},p.prototype={addControl:function(e,t){this.children.push(e),e.formName=this.formName},getChild:function(e){for(var t=0;t<this.children.length;t++){var r=this.children[t];if(r.name==e)return r}return null},check:function(e,t){if(this.hasCheckbox&&!document.getElementById(this.formName+"_"+this.name+"_checkbox").checked)return!0;for(var r=!0,i=0;i<this.children.length;i++){l.verifyControl(this.children[i],t)||(r=!1)}return r},activate:function(e){var t=document.getElementById(this.formName+"_"+this.name+"_checkbox");t&&(e?t.setAttribute("checked","true"):t.removeAttribute("checked"),this.showActivate())},showActivate:function(){var e=document.getElementById(this.formName+"_"+this.name+"_checkbox");if(this.hasCheckbox&&e){var t=document.getElementById(this.formName+"_"+this.name),r=document.getElementById(this.formName),i=e.checked;i?l.removeClass(t,"jforms-notselected"):l.addClass(t,"jforms-notselected");for(var s=0;s<this.children.length;s++){var n=this.children[s];if("function"!=typeof n.deactivate){var a=r.elements[n.name];i&&!n.readOnly?(l.removeAttribute(a,"disabled"),l.removeClass(a,"jforms-disabled")):(l.setAttribute(a,"disabled","disabled"),l.addClass(a,"jforms-disabled"))}else n.readOnly?n.deactivate(!0):n.deactivate(!i)}}}},v.prototype.check=function(e,t){return-1!=e.search(/^0x[a-f0-9A-F]+$/)},g.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength)&&!(-1!=this.maxLength&&e.length>this.maxLength)},g.prototype.getValue=function(){var e=l.getForm(this.formName).element.elements[this.name];if(!e)return null;var t=l.getValue(e);return null==t?null:(t=(t=(t=t.replace(/<(img|object|video|svg|embed)[^>]*>/gi,"TAG")).replace(/<\/?[\S][^>]*>/gi,"")).replace(/&[a-z]+;/gi,""),""==(t=$.trim(t))?null:t)},b.prototype.check=function(e,t){return-1!==e.search(/^\s*[+-]?\d+\s*$/)&&(!(-1!==this.minValue&&parseInt(e)<this.minValue)&&!(-1!==this.maxValue&&parseInt(e)>this.maxValue))},C.prototype.check=function(e,t){var r=e.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return!!r&&(r[1]<256&&r[2]<256&&r[3]<256&&r[4]<256)},y.prototype.check=function(e,t){return-1!=e.search(/^([a-f0-9]{1,4})(:([a-f0-9]{1,4})){7}$/i)},_.prototype.check=function(e,t){let r,i,s,n;if(0===this.lang.indexOf("fr_")){if(n=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/),null==n)return!1;r=parseInt(n[3],10),i=parseInt(n[2],10)-1,s=parseInt(n[1],10)}else{if(n=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/),null==n)return!1;r=parseInt(n[3],10),i=parseInt(n[1],10)-1,s=parseInt(n[2],10)}let a=new Date(r,i,s,0,0,0);return r==a.getFullYear()&&i==a.getMonth()&&s==a.getDate()},j.prototype.check=function(e,t){let r,i,s,n,a,l,o;if(0===this.lang.indexOf("fr_")){if(o=e.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})(:(\d{2}))?$/),null==o)return!1;r=parseInt(o[3],10),i=parseInt(o[2],10)-1,s=parseInt(o[1],10),n=parseInt(o[4],10),a=parseInt(o[5],10),l=0,null!=o[7]&&(l=parseInt(o[7],10))}else{if(o=e.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})(:(\d{2}))?$/),null==o)return!1;r=parseInt(o[3],10),i=parseInt(o[1],10)-1,s=parseInt(o[2],10),n=parseInt(o[4],10),a=parseInt(o[5],10),l=0,null!=o[7]&&(l=parseInt(o[7],10))}var d=new Date(r,i,s,n,a,l);return r==d.getFullYear()&&i==d.getMonth()&&s==d.getDate()&&n==d.getHours()&&a==d.getMinutes()&&l==d.getSeconds()},F.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength)&&(!(-1!=this.maxLength&&e.length>this.maxLength)&&!(this.regexp&&!this.regexp.test(e)))},I.prototype.check=function(e,t){return!(-1!=this.minLength&&e.length<this.minLength)&&(!(-1!=this.maxLength&&e.length>this.maxLength)&&!(this.regexp&&!this.regexp.test(e)))},A.prototype.check=function(e,t){var r=e.match(/^(\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;var i=parseInt(r[1],10),s=parseInt(r[2],10),n=0;null!=r[4]&&(n=parseInt(r[4],10));var a=new Date(2007,5,2,i,s,n);return i==a.getHours()&&s==a.getMinutes()&&n==a.getSeconds()},A.prototype.getValue=function(){if(!this.multiFields){var e=n.a.trim(n()("#"+this.formName+"_"+this.name).val());return""!==e?e:null}var t="#"+this.formName+"_"+this.name,r=n()(t+"_hour").val()+":"+n()(t+"_minutes").val(),i=n()("#"+this.formName+"_"+this.name+"_seconds");if("hidden"!==i.attr("type")){if("::"==(r+=":"+i.val()))return null}else if(":"==r)return null;return r},A.prototype.deactivate=function(e){var t="#"+this.formName+"_"+this.name;e?this.multiFields?(n()(t+"_hour").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_minutes").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_seconds").attr("disabled","disabled").addClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!1)):n()(t).attr("disabled","disabled").addClass("jforms-disabled").trigger("jFormsActivateControl",!1):this.multiFields?(n()(t+"_hour").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_minutes").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_seconds").removeAttr("disabled").removeClass("jforms-disabled"),n()(t+"_hidden").trigger("jFormsActivateControl",!0)):n()(t).removeAttr("disabled").removeClass("jforms-disabled").trigger("jFormsActivateControl",!0)},x.prototype.check=function(e,t){var r=e.match(/^(\d{2}):(\d{2})(:(\d{2}))?$/);if(null==r)return!1;var i=parseInt(r[1],10),s=parseInt(r[2],10),n=0;null!=r[4]&&(n=parseInt(r[4],10));var a=new Date(2007,5,2,i,s,n);return i==a.getHours()&&s==a.getMinutes()&&n==a.getSeconds()&&!(null!==this.minTime&&e<this.minTime||null!==this.maxTime&&e>this.maxTime)},q.prototype.check=function(e,t){return-1!=e.search(/^[a-z]+:\/\/((((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\.)+[A-Za-z-]+))((\/)|$)/)},D.prototype={start:function(e){this.message=""},addError:function(e,t){this.message+=1==t?"* "+e.errRequired+"\n":2==t?"* "+e.errInvalid+"\n":"* Error on '"+e.label+"' field\n"},end:function(){""!=this.message&&alert(this.message)}},O.prototype={start:function(e){this.message="",this.form=e,n()("#"+e.name+" .jforms-error").removeClass("jforms-error"),n()("#"+this.form.name+"_errors").empty().hide()},addError:function(e,t){var r=this.form.element.elements[e.name];r&&r.nodeType&&n()(r).addClass("jforms-error");var i=e.name.replace(/\[\]/,"");n()("#"+this.form.name+"_"+i+"_label").addClass("jforms-error"),this.message+=1==t?'<li class="error"> '+e.errRequired+"</li>":2==t?'<li class="error"> '+e.errInvalid+"</li>":'<li class="error"> Error on \''+e.label+"' </li>"},end:function(){var e=this.form.name+"_errors",t=document.getElementById(e);if(""!=this.message){t||((t=document.createElement("ul")).setAttribute("class","jforms-error-list"),t.setAttribute("id",e),n()(this.form.element).first().before(t));var r=n()(t);location.hash="#"+e,r.hide().html(this.message).fadeIn()}else t&&n()(t).hide()}},k.prototype={addControl:function(e){this.controls.push(e),e.formName=this.name},setErrorDecorator:function(e){this.errorDecorator=e},getControl:function(e){for(var t=this.controls,r=0;r<t.length;r++){if(t[r].name==e)return t[r];if(t[r].getChild){var i=t[r].getChild(e);if(i)return i}}return null},declareDynamicFill:function(e){var t=this.getControl(e);if(t.dependencies)for(var r=this,i=0;i<t.dependencies.length;i++){var s=t.dependencies[i],a=this.element.elements[s];void 0===this.allDependencies[s]?(this.allDependencies[s]=[e],n()(a).change((function(){r.updateLinkedElements(s)}))):this.allDependencies[s].push(e)}},updateDynamicList:function(e){this.getControl(e).dependencies&&(this.controlsToUpdate.push(e),this.dynamicFillAjax())},updateLinkedElements:function(e){this.updateInProgress||(this.updateInProgress=!0,this.buildOrderedControlsList(e),this.dynamicFillAjax())},buildOrderedControlsList:function(e){this.controlsToUpdate=[];var t=[],r=[],i=this,s=function(e){if(!0===r[e])throw"Circular reference !";r[e]=!0;var n=i.allDependencies[e];if(void 0!==n)for(var a=0;a<n.length;a++)!0!==t[n[a]]&&s(n[a]);r[e]=!1,t[e]=!0,i.controlsToUpdate.push(e)},n=this.allDependencies[e];if(void 0!==n)for(var a=0;a<n.length;a++)r=[],!0!==t[n[a]]&&s(n[a])},dynamicFillAjax:function(){var e=this.controlsToUpdate.pop();if(!e)return this.updateInProgress=!1,void(this.controlsToUpdate=[]);var t=this.getControl(e),r=this.element.elements.__JFORMS_TOKEN__;r=void 0===r?"":r.value;for(var i={__form:this.selector,__formid:this.formId,__JFORMS_TOKEN__:r,__ref:t.name.replace("[]","")},s=0;s<t.dependencies.length;s++){var a=t.dependencies[s];i[a]=l.getValue(this.element.elements[a])}var o=this.element.elements[t.name],d=this;n.a.post(l.selectFillUrl,i,(function(e){if(o.nodeType&&"select"==o.nodeName.toLowerCase()){var t=n()(o).eq(0),r=t.children('option[value=""]').detach();t.empty(),r&&t.append(r),n.a.each(e,(function(e,r){if("object"==typeof r.items){t.append('<optgroup label="'+r.label+'"/>');var i=t.children('optgroup[label="'+r.label+'"]').eq(0);n.a.each(r.items,(function(e,t){i.append('<option value="'+t.value+'">'+t.label+"</option>")}))}else t.append('<option value="'+r.value+'">'+r.label+"</option>")}))}d.controlsToUpdate.length?d.dynamicFillAjax():d.updateInProgress=!1}),"json")},addSubmitHandler:function(e,t){t?this.preSubmitHandlers.push(e):this.postSubmitHandlers.push(e)}};var N={jFormsJQ:l,jFormsJQForm:k,jFormsJQErrorDecoratorHtml:O,jFormsJQErrorDecoratorAlert:D,jFormsJQControlUrl:q,jFormsJQControlTime:x,jFormsJQControlTime2:A,jFormsJQControlString:I,jFormsJQControlSecret:F,jFormsJQControlLocaleDatetime:j,jFormsJQControlLocaleDate:_,jFormsJQControlIpv6:y,jFormsJQControlIpv4:C,jFormsJQControlInteger:b,jFormsJQControlHtml:g,jFormsJQControlHexadecimal:v,jFormsJQControlGroup:p,jFormsJQControlEmail:f,jFormsJQControlDecimal:c,jFormsJQControlDatetime:u,jFormsJQControlDate:m,jFormsJQControlConfirm:h,jFormsJQControlColor:d,jFormsJQControlChoice:o,jFormsJQControlBoolean:i};for(var L in N)window[L]=N[L]}]);
//# sourceMappingURL=jforms_jquery.js.map