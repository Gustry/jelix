{"version":3,"file":"jforms_jquery.js","mappings":"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","sources":["webpack://assets/webpack/bootstrap","webpack://assets/./src/jforms_jquery/jFormsJQControlBoolean.js","webpack://assets/webpack/runtime/compat get default export","webpack://assets/webpack/runtime/define property getters","webpack://assets/webpack/runtime/hasOwnProperty shorthand","webpack://assets/external var \"$\"","webpack://assets/./src/jforms_jquery/jFormsJQ.js","webpack://assets/./src/jforms_jquery/jFormsJQControlChoice.js","webpack://assets/./src/jforms_jquery/jFormsJQControlColor.js","webpack://assets/./src/jforms_jquery/jFormsJQControlConfirm.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlDecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlEmail.js","webpack://assets/./src/jforms_jquery/jFormsJQControlGroup.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHexadecimal.js","webpack://assets/./src/jforms_jquery/jFormsJQControlHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQControlInteger.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv4.js","webpack://assets/./src/jforms_jquery/jFormsJQControlIpv6.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDate.js","webpack://assets/./src/jforms_jquery/jFormsJQControlLocaleDatetime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlSecret.js","webpack://assets/./src/jforms_jquery/jFormsJQControlString.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime2.js","webpack://assets/./src/jforms_jquery/jFormsJQControlTime.js","webpack://assets/./src/jforms_jquery/jFormsJQControlUrl.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorAlert.js","webpack://assets/./src/jforms_jquery/jFormsJQErrorDecoratorHtml.js","webpack://assets/./src/jforms_jquery/jFormsJQForm.js","webpack://assets/./src/jforms_jquery/jforms_jquery.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with boolean\n */\nexport default function jFormsJQControlBoolean(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlBoolean.prototype.check = function (val, jfrm) {\n    return (val == true || val == false);\n};\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = $;","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Dominique Papin\n * @copyright    2007-2023 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2008 Dominique Papin\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * form manager\n */\nconst jFormsJQ = {\n\n    /**\n     * list of jFormsJQForm. property name are id value of forms (jforms_<module>_<name>)\n     */\n    _forms: {},\n\n    tForm: null,\n    selectFillUrl : '',\n\n    config : {},\n\n    _onReadyCallback: {},\n\n    _submitListener : function(ev) {\n        let frm = jFormsJQ.getForm(ev.target.attributes.getNamedItem(\"id\").value);\n\n        $(ev.target).trigger('jFormsUpdateFields');\n\n        let submitOk = true;\n        try {\n            for (let i=0; i< frm.preSubmitHandlers.length; i++) {\n                if (!frm.preSubmitHandlers[i](ev))\n                    submitOk = false;\n            }\n\n            if (!jFormsJQ.verifyForm(ev.target))\n                submitOk = false;\n\n            for (let j=0; j< frm.postSubmitHandlers.length; j++) {\n                if (!frm.postSubmitHandlers[j](ev))\n                    submitOk = false;\n            }\n        }\n        catch(e) {\n            return false;\n        }\n        return submitOk;\n    },\n\n    /**\n     * @param {jFormsJQForm} aForm\n     */\n    declareForm : function(aForm){\n        this._forms[aForm.name] = aForm;\n        $('#'+aForm.name).bind('submit', jFormsJQ._submitListener);\n        const event = new Event(\"jformsready\");\n        document.getElementById(aForm.name).dispatchEvent(event);\n        if (aForm.name in this._onReadyCallback) {\n            this._onReadyCallback[aForm.name](aForm);\n        }\n    },\n\n    /**\n     * Set a listener that is called when the form corresponding to the given name,\n     * is ready.\n     *\n     * The listener may be called immediately if the form is already ready.\n     * The listener should be a function that accepts a jFormsJQForm as parameter.\n     * For example, the listener can register\n     *\n     * @param {String} formName  should be a name like `jforms_<module>_<name>`\n     * @param {Function} callback\n     */\n    onFormReady: function (formName, callback) {\n        this._onReadyCallback[formName] = callback;\n        if (formName in this._forms) {\n            callback(this._forms[formName]);\n        }\n    },\n\n    /**\n     *\n     * @param name  should be a name like `jforms_<module>_<name>`\n     * @returns {jFormsJQForm}\n     */\n    getForm : function (name) {\n        return this._forms[name];\n    },\n\n    /**\n     *  @param {Element} frmElt  the <form> HTML element\n     */\n    verifyForm : function(frmElt) {\n        this.tForm = this._forms[frmElt.attributes.getNamedItem(\"id\").value]; // we cannot use getAttribute for id because a bug with IE\n        let valid = true;\n        this.tForm.errorDecorator.start(this.tForm);\n        for(let i =0; i < this.tForm.controls.length; i++){\n            if (!this.verifyControl(this.tForm.controls[i], this.tForm))\n                valid = false;\n        }\n        if(!valid)\n            this.tForm.errorDecorator.end();\n        return valid;\n    },\n\n    /**\n     * @param {jFormsJQControl}  ctrl     a jform control\n     * @param {jFormsJQForm}      frm      the jform object\n     */\n    verifyControl : function (ctrl, frm) {\n        let val;\n        if(typeof ctrl.getValue == 'function') {\n            val = ctrl.getValue();\n        }\n        else {\n            let elt = frm.element.elements[ctrl.name];\n            if (!elt) return true; // sometimes, all controls are not generated...\n            val = this.getValue(elt);\n        }\n\n        if (val === null || val === false) {\n            if (ctrl.required) {\n                frm.errorDecorator.addError(ctrl, 1);\n                return false;\n            }\n        }\n        else {\n            if(!ctrl.check(val, frm)){\n                if (!(\"getChild\" in ctrl)) {\n                    // don't output error for groups/choice, errors on child have already been set\n                    frm.errorDecorator.addError(ctrl, 2);\n                }\n                return false;\n            }\n        }\n        return true;\n    },\n\n    /**\n     * @param {Element} elt\n     */\n    getValue : function (elt){\n        if(elt.nodeType) { // this is a node\n            let val, values = [];\n            switch (elt.nodeName.toLowerCase()) {\n                case \"input\":\n                    if (elt.getAttribute('type') === 'checkbox') {\n                        return elt.checked;\n                    }\n                    /* falls through */\n                case \"textarea\":\n                    val = $.trim(elt.value);\n                    return (val !== '' ? val:null);\n                case \"select\":\n                    if (!elt.multiple) {\n                        return (elt.value!==''?elt.value:null);\n                    }\n                    for (let i = 0; i < elt.options.length; i++) {\n                        if (elt.options[i].selected) {\n                            values.push(elt.options[i].value);\n                        }\n                    }\n                    if (values.length) {\n                        return values;\n                    }\n                    return null;\n            }\n        } else if(this.isCollection(elt)){\n            // this is a NodeList of radio buttons or multiple checkboxes\n            let values = [];\n            for (let i = 0; i < elt.length; i++) {\n                let item = elt[i];\n                if (item.checked)\n                    values.push(item.value);\n            }\n            if(values.length) {\n                if (elt[0].getAttribute('type') === 'radio')\n                    return values[0];\n                return values;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * @param {Element} elt\n     * @param {String} clss  CSS class\n     */\n    hasClass: function (elt,clss) {\n        return $(elt).hasClass(clss);\n    },\n    addClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).addClass(clss);\n            }\n        } else {\n            $(elt).addClass(clss);\n        }\n    },\n    removeClass: function (elt,clss) {\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                $(elt[j]).removeClass(clss);\n            }\n        } else {\n            $(elt).removeClass(clss);\n        }\n    },\n    setAttribute: function(elt, name, value){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].setAttribute(name, value);\n            }\n        } else {\n            elt.setAttribute(name, value);\n        }\n    },\n    removeAttribute: function(elt, name){\n        if (this.isCollection(elt)) {\n            for(let j=0; j<elt.length;j++) {\n                elt[j].removeAttribute(name);\n            }\n        } else {\n            elt.removeAttribute(name);\n        }\n    },\n    /**\n     * @param {Element} elt\n     */\n    isCollection: function(elt) {\n        if (typeof HTMLCollection != \"undefined\" && elt instanceof HTMLCollection) {\n            return true;\n        }\n        if (typeof NodeList != \"undefined\" && elt instanceof NodeList) {\n            return true;\n        }\n        if (elt instanceof Array) {\n            return true;\n        }\n        if (elt.length !== undefined && (elt.localName === undefined || elt.localName.toLowerCase() === 'select')) {\n            return true;\n        }\n        return false;\n    }\n};\n\nexport default jFormsJQ;\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * choice control\n */\nexport default function jFormsJQControlChoice(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.items = {};\n    this.readOnly = false;\n}\n\njFormsJQControlChoice.prototype = {\n    addControl : function (ctrl, itemValue) {\n        if (this.items[itemValue] === undefined) {\n            this.items[itemValue] = [];\n        }\n        if (ctrl) { // a choice item can be empty\n            this.items[itemValue].push(ctrl);\n            ctrl.formName = this.formName;\n        }\n    },\n    getChild : function (aControlName) {\n        for (var it in this.items) {\n            for (var i=0; i < this.items[it].length; i++) {\n                var c = this.items[it][i];\n                if (c.name == aControlName)\n                    return c;\n            }\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if(this.items[val] == undefined)\n            return false;\n\n        var list = this.items[val];\n        var valid = true;\n        for(var i=0; i < list.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(list[i], jfrm);\n            if (!ctrlvalid)\n                valid = false;\n        }\n        return valid;\n    },\n    activate : function (val) {\n        var frmElt = document.getElementById(this.formName);\n        for(var j in this.items) {\n            var list = this.items[j];\n            var htmlItem = document.getElementById(this.formName+'_'+this.name+'_'+j+'_item');\n            if (htmlItem) {\n                if (val == j) {\n                    jFormsJQ.addClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.removeClass(htmlItem, \"jforms-notselected\");\n                }\n                else {\n                    jFormsJQ.removeClass(htmlItem, \"jforms-selected\");\n                    jFormsJQ.addClass(htmlItem, \"jforms-notselected\");\n                }\n            }\n            for(var i=0; i < list.length; i++) {\n                var ctl = list[i];\n                if(typeof ctl.deactivate == 'function'){\n                    if (ctl.readOnly)\n                        ctl.deactivate(true);\n                    else\n                        ctl.deactivate(val != j);\n                    continue;\n                }\n                var elt = frmElt.elements[ctl.name];\n                if (val == j && !ctl.readOnly) {\n                    jFormsJQ.removeAttribute(elt, \"disabled\");\n                    jFormsJQ.removeClass(elt, \"jforms-disabled\");\n                } else {\n                    jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                    jFormsJQ.addClass(elt, \"jforms-disabled\");\n                }\n            }\n        }\n    }\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for color code\n */\nexport default function jFormsJQControlColor(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlColor.prototype.check = function (val, jfrm) {\n    return (val.search(/^#[a-f0-9A-F]{6}$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n\n/**\n * confirm control\n */\nexport default function jFormsJQControlConfirm(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this._masterControl = name.replace(/_confirm$/,'');\n}\n\njFormsJQControlConfirm.prototype.check = function(val, jfrm) {\n    if(jFormsJQ.getValue(jfrm.element.elements[this._masterControl]) !== val)\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with Date\n */\nexport default function jFormsJQControlDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.multiFields = false;\n    this.minDate = null;\n    this.maxDate = null;\n    this.readOnly = false;\n}\n\njFormsJQControlDate.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDate.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val();\n    if (v === '--')\n        return null;\n    return v;\n};\njFormsJQControlDate.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Nigoki\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2009 Nigoki\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n/**\n * control with Datetime\n */\nexport default function jFormsJQControlDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minDate = null;\n    this.maxDate = null;\n    this.multiFields = false;\n    this.readOnly = false;\n}\n\njFormsJQControlDatetime.prototype.check = function (val, jfrm) {\n    let t = val.match(/^(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    let yy = parseInt(t[1],10);\n    let mm = parseInt(t[2],10) -1;\n    let dd = parseInt(t[3],10);\n    let th = parseInt(t[4],10);\n    let tm = parseInt(t[5],10);\n    let ts = 0;\n    if(t[7] != null && t[7] != \"\") {\n        ts = parseInt(t[7],10);\n    }\n    let dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minDate !== null && val < this.minDate) || (this.maxDate !== null && val > this.maxDate))\n        return false;\n    return true;\n};\njFormsJQControlDatetime.prototype.getValue = function(){\n    if (!this.multiFields) {\n        let val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val!==''?val:null);\n    }\n\n    let controlId = '#'+this.formName+'_'+this.name;\n    let v = $(controlId+'_year').val() + '-'\n        + $(controlId+'_month').val() + '-'\n        + $(controlId+'_day').val() + ' '\n        + $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    let secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if (secondsControl.attr('type') !== 'hidden') {\n        v += ':'+secondsControl.val();\n        if (v === '-- ::') {\n            return null;\n        }\n    }\n    else if (v === '-- :')\n        return null;\n    return v;\n};\njFormsJQControlDatetime.prototype.deactivate = function(deactivate){\n    let controlId = '#'+this.formName+'_'+this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_year').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_month').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_day').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_year').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_month').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_day').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Decimal\n */\nexport default function jFormsJQControlDecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlDecimal.prototype.check = function (val, jfrm) {\n    if (!(-1 != val.search(/^\\s*[+-]?\\d+(\\.\\d+)?\\s*$/))) return false;\n    if (this.minValue != -1 && parseFloat(val) < this.minValue) return false;\n    if (this.maxValue != -1 && parseFloat(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with email\n */\nexport default function jFormsJQControlEmail(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlEmail.prototype.check = function (val, jfrm) {\n    return (val.search(/^((\"[^\"f\\n\\r\\t\\b]+\")|([\\w!#$%&'*+-~/^`|{}]+(\\.[\\w!#$%&'*+-~/^`|{}]+)*))@((\\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))$/) != -1);\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * group control\n */\nexport default function jFormsJQControlGroup(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n    this.children = [];\n    this.hasCheckbox = false;\n}\n\njFormsJQControlGroup.prototype = {\n    addControl : function (ctrl, itemValue) {\n        this.children.push(ctrl);\n        ctrl.formName = this.formName;\n    },\n    getChild : function (aControlName) {\n        for (var i=0; i < this.children.length; i++) {\n            var c = this.children[i];\n            if (c.name == aControlName)\n                return c;\n        }\n        return null;\n    },\n    check : function (val, jfrm) {\n        if (this.hasCheckbox) {\n            var chk = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n            if (!chk.checked) {\n                return true;\n            }\n        }\n        var valid = true;\n        for(var i=0; i < this.children.length; i++) {\n            var ctrlvalid = jFormsJQ.verifyControl(this.children[i], jfrm);\n            if (!ctrlvalid) {\n                valid = false;\n            }\n        }\n        return valid;\n    },\n    activate: function(yes) {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (checkboxItem) {\n            if (yes) {\n                checkboxItem.setAttribute('checked', 'true');\n            }\n            else {\n                checkboxItem.removeAttribute('checked');\n            }\n            this.showActivate();\n        }\n    },\n    showActivate : function () {\n        var checkboxItem = document.getElementById(this.formName+'_'+this.name+'_checkbox');\n        if (!this.hasCheckbox || !checkboxItem) {\n            return;\n        }\n        var fieldset = document.getElementById(this.formName+'_'+this.name);\n        var frmElt = document.getElementById(this.formName);\n\n        var toactivate = checkboxItem.checked;\n        if (toactivate) {\n            jFormsJQ.removeClass(fieldset, \"jforms-notselected\");\n        }\n        else {\n            jFormsJQ.addClass(fieldset, \"jforms-notselected\");\n        }\n        for(var i=0; i < this.children.length; i++) {\n            var ctl = this.children[i];\n            if(typeof ctl.deactivate == 'function'){\n                if (ctl.readOnly) {\n                    ctl.deactivate(true);\n                } else {\n                    ctl.deactivate(!toactivate);\n                }\n                continue;\n            }\n            var elt = frmElt.elements[ctl.name];\n            if (toactivate && !ctl.readOnly) {\n                jFormsJQ.removeAttribute(elt, \"disabled\");\n                jFormsJQ.removeClass(elt, \"jforms-disabled\");\n            } else {\n                jFormsJQ.setAttribute(elt, \"disabled\", \"disabled\");\n                jFormsJQ.addClass(elt, \"jforms-disabled\");\n            }\n        }\n    }\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Hexadecimal\n */\nexport default function jFormsJQControlHexadecimal(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlHexadecimal.prototype.check = function (val, jfrm) {\n    return (val.search(/^0x[a-f0-9A-F]+$/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQ from './jFormsJQ.js';\n/**\n * control with HTML content generated by a wysiwyg editor\n */\nexport default function jFormsJQControlHtml(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.readOnly = false;\n}\n\njFormsJQControlHtml.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    return true;\n};\njFormsJQControlHtml.prototype.getValue = function () {\n    var frm = jFormsJQ.getForm(this.formName);\n    var elt = frm.element.elements[this.name];\n    if (!elt) return null;\n    var val = jFormsJQ.getValue(elt);\n    if (val == null)\n        return null;\n    val = val.replace(/<(img|object|video|svg|embed)[^>]*>/gi, 'TAG'); //tags which are contents\n    val = val.replace(/<\\/?[\\S][^>]*>/gi, '');\n    val = val.replace(/&[a-z]+;/gi, '');\n    val = $.trim(val);\n    if (val =='')\n        return null;\n    return val;\n};\n\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Philippe Villiers\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2013 Philippe Villiers\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Integer\n */\nexport default function jFormsJQControlInteger(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.minValue = -1;\n    this.maxValue = -1;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlInteger.prototype.check = function (val, jfrm) {\n    if (!(-1 !== val.search(/^\\s*[+-]?\\d+\\s*$/))) return false;\n    if (this.minValue !== -1 && parseInt(val) < this.minValue) return false;\n    if (this.maxValue !== -1 && parseInt(val) > this.maxValue) return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv4\n */\nexport default function jFormsJQControlIpv4(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv4.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/);\n    if(t)\n        return (t[1] < 256 && t[2] < 256 && t[3] < 256 && t[4] < 256);\n    return false;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with ipv6\n */\nexport default function jFormsJQControlIpv6(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlIpv6.prototype.check = function (val, jfrm) {\n    return (val.search(/^([a-f0-9]{1,4})(:([a-f0-9]{1,4})){7}$/i) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with localedate\n */\nexport default function jFormsJQControlLocaleDate(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDate.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n        if (t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n    }\n    let dt = new Date(yy,mm,dd,0,0,0);\n    if (yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with LocaleDateTime\n */\nexport default function jFormsJQControlLocaleDatetime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.lang='';\n    this.readOnly = false;\n}\n\njFormsJQControlLocaleDatetime.prototype.check = function (val, jfrm) {\n    let yy, mm, dd, th, tm, ts, t;\n    if (this.lang.indexOf('fr_') === 0) {\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[2],10) -1;\n        dd = parseInt(t[1],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }else{\n        //default is en_* format\n        t = val.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4}) (\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n        if(t == null) return false;\n        yy = parseInt(t[3],10);\n        mm = parseInt(t[1],10) -1;\n        dd = parseInt(t[2],10);\n        th = parseInt(t[4],10);\n        tm = parseInt(t[5],10);\n        ts = 0;\n        if(t[7] != null)\n            ts = parseInt(t[7],10);\n    }\n    var dt = new Date(yy,mm,dd,th,tm,ts);\n    if(yy != dt.getFullYear() || mm != dt.getMonth() || dd != dt.getDate() || th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control for secret input\n */\nexport default function jFormsJQControlSecret(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlSecret.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * control with string\n */\nexport default function jFormsJQControlString(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControlString.prototype.check = function (val, jfrm) {\n    if(this.minLength != -1 && val.length < this.minLength)\n        return false;\n    if(this.maxLength != -1 && val.length > this.maxLength)\n        return false;\n    if (this.regexp && !this.regexp.test(val))\n        return false;\n    return true;\n};\n","/**\n * @author       Adrien Lagroy\n * @contributor  Laurent Jouanneau\n * @copyright    2020 Adrien Lagroy, 2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\nimport $ from 'jquery';\n\n/**\n * control with time for jForms\n */\nexport default function jFormsJQControlTime2(name, label) {\n    this.name = name;\n    this.label = label;\n    this.multiFields = false;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minTime = null;\n    this.maxTime = null;\n    this.readOnly = false;\n}\n\njFormsJQControlTime2.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else\n        return true;\n};\njFormsJQControlTime2.prototype.getValue = function(){\n    if (!this.multiFields) {\n        var val = $.trim($('#'+this.formName+'_'+this.name).val());\n        return (val !=='' ? val : null);\n    }\n\n    var controlId = '#' + this.formName + '_' + this.name;\n    var v = $(controlId+'_hour').val() + ':'\n        + $(controlId+'_minutes').val();\n\n    var secondsControl = $('#'+this.formName+'_'+this.name+'_seconds');\n    if(secondsControl.attr('type') !== 'hidden'){\n        v += ':'+secondsControl.val();\n        if(v == '::')\n            return null;\n    }\n    else if(v == ':')\n        return null;\n    return v;\n};\njFormsJQControlTime2.prototype.deactivate = function(deactivate){\n    var controlId = '#' + this.formName + '_' + this.name;\n    if(deactivate){\n        if (!this.multiFields)\n            $(controlId).attr('disabled','disabled').addClass('jforms-disabled').trigger('jFormsActivateControl', false);\n        else{\n            $(controlId+'_hour').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_minutes').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_seconds').attr('disabled','disabled').addClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', false);\n        }\n    }\n    else{\n        if (!this.multiFields)\n            $(controlId).removeAttr('disabled').removeClass('jforms-disabled').trigger('jFormsActivateControl', true);\n        else{\n            $(controlId+'_hour').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_minutes').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_seconds').removeAttr('disabled').removeClass('jforms-disabled');\n            $(controlId+'_hidden').trigger('jFormsActivateControl', true);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with time\n */\nexport default function jFormsJQControlTime(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n}\n\njFormsJQControlTime.prototype.check = function (val, jfrm) {\n    var t = val.match(/^(\\d{2}):(\\d{2})(:(\\d{2}))?$/);\n    if(t == null) return false;\n    var th = parseInt(t[1],10);\n    var tm = parseInt(t[2],10);\n    var ts = 0;\n    if(t[4] != null)\n        ts = parseInt(t[4],10);\n    var dt = new Date(2007,5,2,th,tm,ts);\n    if(th != dt.getHours() || tm != dt.getMinutes() || ts != dt.getSeconds())\n        return false;\n    else if((this.minTime !== null && val < this.minTime) || (this.maxTime !== null && val > this.maxTime))\n        return false;\n    else\n        return true;\n};\n","/**\n * @package      jelix\n * @subpackage   forms\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n/**\n * control with Url\n */\nexport default function jFormsJQControlUrl(name, label) {\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.readOnly = false;\n}\n\njFormsJQControlUrl.prototype.check = function (val, jfrm) {\n    return (val.search(/^[a-z]+:\\/\\/((((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9-])+\\.)+[A-Za-z-]+))((\\/)|$)/) != -1);\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\n\n\n/**\n * Decorator to display errors in an alert dialog box\n */\nexport default function jFormsJQErrorDecoratorAlert(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorAlert.prototype = {\n    start : function(form){\n        this.message = '';\n    },\n    addError : function(control, messageType){\n        if(messageType == 1){\n            this.message  +=\"* \"+control.errRequired + \"\\n\";\n        }else if(messageType == 2){\n            this.message  +=\"* \"+control.errInvalid + \"\\n\";\n        }else{\n            this.message  += \"* Error on '\"+control.label+\"' field\\n\";\n        }\n    },\n    end : function(){\n        if(this.message != ''){\n            alert(this.message);\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2007-2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport $ from 'jquery';\n\nexport default function jFormsJQErrorDecoratorHtml(){\n    this.message = '';\n}\n\n\njFormsJQErrorDecoratorHtml.prototype = {\n    start : function(form){\n        this.message = '';\n        this.form = form;\n        $(\"#\"+form.name+\" .jforms-error\").removeClass('jforms-error');\n        $('#'+this.form.name+'_errors').empty().hide();\n    },\n    addError : function(control, messageType){\n        var elt = this.form.element.elements[control.name];\n        if (elt && elt.nodeType) {\n            $(elt).addClass('jforms-error');\n        }\n        var name = control.name.replace(/\\[\\]/, '');\n        $(\"#\"+this.form.name+\"_\"+name+\"_label\").addClass('jforms-error');\n\n        if(messageType == 1){\n            this.message  += '<li class=\"error\"> '+control.errRequired + \"</li>\";\n        }else if(messageType == 2){\n            this.message  += '<li class=\"error\"> ' +control.errInvalid + \"</li>\";\n        }else{\n            this.message  += '<li class=\"error\"> Error on \\''+control.label+\"' </li>\";\n        }\n    },\n    end : function(){\n        var errid = this.form.name+'_errors';\n        var ul = document.getElementById(errid);\n        if(this.message != ''){\n            if (!ul) {\n                ul = document.createElement('ul');\n                ul.setAttribute('class', 'jforms-error-list');\n                ul.setAttribute('id', errid);\n                $(this.form.element).first().before(ul);\n            }\n            var jul = $(ul);\n            location.hash = \"#\"+errid;\n            jul.hide().html(this.message).fadeIn();\n        }\n        else if (ul) {\n            $(ul).hide();\n        }\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @contributor  Julien Issler, Vincent viaud, Steven Jehannet\n * @copyright    2007-2020 Laurent Jouanneau\n * @copyright    2008-2015 Julien Issler, 2011 Steven Jehannet, 2010 Vincent viaud\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQ from './jFormsJQ.js';\nimport $ from 'jquery';\n\nfunction jFormsJQControl(name, label) {\n    /** @var {string} name the ref value of the control */\n    this.name = name;\n    this.label = label;\n    this.required = false;\n    this.errInvalid = '';\n    this.errRequired = '';\n    this.minLength = -1;\n    this.maxLength = -1;\n    this.regexp = null;\n    this.readOnly = false;\n}\n\njFormsJQControl.prototype.check = function (val, jfrm) {\n    return true;\n};\n\n\n/**\n * represents a form\n */\nexport default function jFormsJQForm(name, selector, id){\n    // the jelix selector corresponding to the jforms object\n    this.selector = selector;\n\n    // the jforms id (id given to jForms::get())\n    this.formId = id;\n\n    // the value of the id attribute: jforms_<module>_<name>\n    this.name = name;\n\n    this.controls = [];\n    this.errorDecorator =  new jFormsJQErrorDecoratorHtml();\n    this.element = $('#'+name).get(0);\n\n    // list of dependencies. Values are list of controls to update when a\n    // control (key is its name) is modified\n    this.allDependencies = {};\n    this.updateInProgress = false;\n    this.controlsToUpdate = [];\n    this.preSubmitHandlers = [];\n    this.postSubmitHandlers = [];\n}\n\n\njFormsJQForm.prototype={\n    /**\n     * @param {jFormsJQControl} ctrl\n     */\n    addControl : function(ctrl){\n        this.controls.push(ctrl);\n        ctrl.formName = this.name;\n    },\n\n    setErrorDecorator : function (decorator){\n        this.errorDecorator = decorator;\n    },\n\n    /**\n     * @param {String} aControlName the ref value of the control\n     * @return {jFormsJQControl}\n     */\n    getControl : function(aControlName) {\n        var ctrls = this.controls;\n        for(var i=0; i < ctrls.length; i++){\n            if (ctrls[i].name == aControlName) {\n                return ctrls[i];\n            }\n            else if (ctrls[i].getChild){\n                var child = ctrls[i].getChild(aControlName);\n                if (child)\n                    return child;\n            }\n        }\n        return null;\n    },\n\n    /**\n     * declare a list as a dynamic list: its possible values change when an\n     * other control is modified.\n     * @param {String} controlName the ref value of the control corresponding to the html list to update\n     */\n    declareDynamicFill : function (controlName) {\n        var ctrl = this.getControl(controlName);\n        // dependencies property contains name of controls that provide values\n        // used as criterion to retrieve list of values for controlName\n        if (!ctrl.dependencies)\n            return;\n\n        var me = this;\n        // the control has some dependencies : we put a listener\n        // on these dependencies, so when these dependencies\n        // change, we retrieve the new content of the control\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var depName = ctrl.dependencies[i];\n            var dep = this.element.elements[depName];\n            if (this.allDependencies[depName] === undefined) {\n                this.allDependencies[depName] = [controlName];\n                $(dep).change(function() {\n                    me.updateLinkedElements(depName);\n                });\n            }\n            else {\n                this.allDependencies[depName].push(controlName);\n            }\n        }\n    },\n\n    /**\n     * update the given list that depends on another control.\n     *\n     * Useful if you know that this list has changed at the backend side.\n     *\n     * @param {String} controlName the ref value of the list to update\n     */\n    updateDynamicList : function(controlName) {\n        var ctrl = this.getControl(controlName);\n        if (!ctrl.dependencies) {\n            return;\n        }\n        this.controlsToUpdate.push(controlName);\n        this.dynamicFillAjax();\n    },\n\n    /**\n     * update the content of all elements which depends on the value of the given\n     * control\n     * @param {String} controlName the ref value of the control\n     */\n    updateLinkedElements : function (controlName) {\n        if (this.updateInProgress) // we don't want to call same ajax request...\n            return;\n        this.updateInProgress = true;\n        this.buildOrderedControlsList(controlName);\n        // we now have the list of controls to update, in the reverse order\n        // let's start the update\n        this.dynamicFillAjax();\n    },\n\n    /**\n     *\n     * @param {String} controlName the ref value of the control\n     */\n    buildOrderedControlsList : function(controlName) {\n        // we should build a graph, to update elements in the right order\n        this.controlsToUpdate = [];\n        var alreadyCheckedControls = [];\n        var checkedCircularDependency = [];\n        var me = this;\n        var buildListDependencies = function (controlName) {\n            if (checkedCircularDependency[controlName] === true)\n                throw \"Circular reference !\";\n            checkedCircularDependency[controlName] = true;\n\n            var list = me.allDependencies[controlName];\n            if (list !== undefined) {\n                for (var j=0; j< list.length; j++) {\n                    if (alreadyCheckedControls[list[j]] !== true) {\n                        buildListDependencies(list[j]);\n                    }\n                }\n            }\n            checkedCircularDependency[controlName] = false;\n            alreadyCheckedControls[controlName] = true;\n            me.controlsToUpdate.push(controlName);\n        };\n\n        var list = this.allDependencies[controlName];\n        if (list !== undefined) {\n            for (var i=0; i< list.length; i++) {\n                checkedCircularDependency = [];\n                if (alreadyCheckedControls[list[i]] !== true) {\n                    buildListDependencies(list[i]);\n                }\n            }\n        }\n    },\n\n    /**\n     * It sends the values of dependencies of a control,\n     * and then we retrieve the new values of this control\n     */\n    dynamicFillAjax : function () {\n        var ctrlname = this.controlsToUpdate.pop();\n        if (!ctrlname) {\n            this.updateInProgress = false;\n            this.controlsToUpdate = [];\n            return;\n        }\n        var ctrl = this.getControl(ctrlname);\n        var token = this.element.elements['__JFORMS_TOKEN__'];\n        if (typeof token == \"undefined\" ) {\n            token = '';\n        }\n        else\n            token = token.value;\n\n        var param = {\n            '__form': this.selector,\n            '__formid' : this.formId,\n            '__JFORMS_TOKEN__' : token,\n            '__ref' : ctrl.name.replace('[]','')\n        };\n\n        for(var i=0; i< ctrl.dependencies.length; i++) {\n            var n = ctrl.dependencies[i];\n            param[n] = jFormsJQ.getValue(this.element.elements[n]);\n        }\n\n        var elt = this.element.elements[ctrl.name];\n        var eltValue = elt.value;\n        var me = this;\n\n        $.post(jFormsJQ.selectFillUrl, param,\n            function(data){\n                if(elt.nodeType && elt.nodeName.toLowerCase() == 'select') {\n                    var select = $(elt).eq(0);\n                    var emptyitem = select.children('option[value=\"\"]').detach();\n                    select.empty();\n                    if(emptyitem)\n                        select.append(emptyitem);\n                    $.each(data, function(i, item){\n                        if (emptyitem && item.value == '') {\n                            // do not add empty item if it already exists.\n                            return;\n                        }\n                        if(typeof item.items == 'object'){\n                            select.append('<optgroup label=\"'+item.label+'\"/>');\n                            var optgroup = select.children('optgroup[label=\"'+item.label+'\"]').eq(0);\n                            $.each(item.items, function(i,item){\n                                 optgroup.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                            });\n                        }\n                        else\n                            select.append('<option value=\"'+item.value+'\"'+(item.value == eltValue ? ' selected=\"selected\"' : '')+'>'+item.label+'</option>');\n                    });\n                }\n                if (me.controlsToUpdate.length) {\n                    me.dynamicFillAjax();\n                }\n                else {\n                    me.updateInProgress = false;\n                }\n            }, \"json\");\n    },\n\n    addSubmitHandler : function (handler, beforeCheck) {\n        if (beforeCheck) {\n            this.preSubmitHandlers.push(handler);\n        }\n        else\n            this.postSubmitHandlers.push(handler);\n    }\n};\n","/**\n * @author       Laurent Jouanneau\n * @copyright    2020 Laurent Jouanneau\n * @link         https://jelix.org\n * @licence      GNU Lesser General Public Licence see LICENCE file or http://www.gnu.org/licenses/lgpl.html\n */\n\nimport jFormsJQControlBoolean from './jFormsJQControlBoolean.js';\nimport jFormsJQControlChoice from './jFormsJQControlChoice.js';\nimport jFormsJQControlColor from './jFormsJQControlColor.js';\nimport jFormsJQControlConfirm from './jFormsJQControlConfirm.js';\nimport jFormsJQControlDate from './jFormsJQControlDate.js';\nimport jFormsJQControlDatetime from './jFormsJQControlDatetime.js';\nimport jFormsJQControlDecimal from './jFormsJQControlDecimal.js';\nimport jFormsJQControlEmail from './jFormsJQControlEmail.js';\nimport jFormsJQControlGroup from './jFormsJQControlGroup.js';\nimport jFormsJQControlHexadecimal from './jFormsJQControlHexadecimal.js';\nimport jFormsJQControlHtml from './jFormsJQControlHtml.js';\nimport jFormsJQControlInteger from './jFormsJQControlInteger.js';\nimport jFormsJQControlIpv4 from './jFormsJQControlIpv4.js';\nimport jFormsJQControlIpv6 from './jFormsJQControlIpv6.js';\nimport jFormsJQControlLocaleDate from './jFormsJQControlLocaleDate.js';\nimport jFormsJQControlLocaleDatetime from './jFormsJQControlLocaleDatetime.js';\nimport jFormsJQControlSecret from './jFormsJQControlSecret.js';\nimport jFormsJQControlString from './jFormsJQControlString.js';\nimport jFormsJQControlTime2 from './jFormsJQControlTime2.js';\nimport jFormsJQControlTime from './jFormsJQControlTime.js';\nimport jFormsJQControlUrl from './jFormsJQControlUrl.js';\nimport jFormsJQErrorDecoratorAlert from './jFormsJQErrorDecoratorAlert.js';\nimport jFormsJQErrorDecoratorHtml from './jFormsJQErrorDecoratorHtml.js';\nimport jFormsJQForm from './jFormsJQForm.js';\nimport jFormsJQ from './jFormsJQ.js';\n\n\nvar __jforms_jquery = {\n    jFormsJQ,\n    jFormsJQForm,\n    jFormsJQErrorDecoratorHtml,\n    jFormsJQErrorDecoratorAlert,\n    jFormsJQControlUrl,\n    jFormsJQControlTime,\n    jFormsJQControlTime2,\n    jFormsJQControlString,\n    jFormsJQControlSecret,\n    jFormsJQControlLocaleDatetime,\n    jFormsJQControlLocaleDate,\n    jFormsJQControlIpv6,\n    jFormsJQControlIpv4,\n    jFormsJQControlInteger,\n    jFormsJQControlHtml,\n    jFormsJQControlHexadecimal,\n    jFormsJQControlGroup,\n    jFormsJQControlEmail,\n    jFormsJQControlDecimal,\n    jFormsJQControlDatetime,\n    jFormsJQControlDate,\n    jFormsJQControlConfirm,\n    jFormsJQControlColor,\n    jFormsJQControlChoice,\n    jFormsJQControlBoolean\n};\n\nfor (var o in __jforms_jquery) {\n    window[o] = __jforms_jquery[o];\n}\n\n"],"names":["__webpack_require__","jFormsJQControlBoolean","name","label","this","required","errInvalid","errRequired","readOnly","n","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","check","val","jfrm","$","jFormsJQ","_forms","tForm","selectFillUrl","config","_onReadyCallback","_submitListener","ev","frm","getForm","target","attributes","getNamedItem","value","trigger","submitOk","i","preSubmitHandlers","length","verifyForm","j","postSubmitHandlers","e","declareForm","aForm","bind","event","Event","document","getElementById","dispatchEvent","onFormReady","formName","callback","frmElt","valid","errorDecorator","start","controls","verifyControl","end","ctrl","getValue","elt","element","elements","addError","nodeType","values","nodeName","toLowerCase","getAttribute","checked","multiple","options","selected","push","isCollection","item","hasClass","clss","addClass","removeClass","setAttribute","removeAttribute","HTMLCollection","NodeList","Array","undefined","localName","jFormsJQControlChoice","items","jFormsJQControlColor","jFormsJQControlConfirm","_masterControl","replace","jFormsJQControlDate","multiFields","minDate","maxDate","jFormsJQControlDatetime","jFormsJQControlDecimal","minValue","maxValue","jFormsJQControlEmail","jFormsJQControlGroup","children","hasCheckbox","jFormsJQControlHexadecimal","jFormsJQControlHtml","minLength","maxLength","jFormsJQControlInteger","jFormsJQControlIpv4","jFormsJQControlIpv6","jFormsJQControlLocaleDate","lang","jFormsJQControlLocaleDatetime","jFormsJQControlSecret","regexp","jFormsJQControlString","jFormsJQControlTime2","minTime","maxTime","jFormsJQControlTime","jFormsJQControlUrl","jFormsJQErrorDecoratorAlert","message","jFormsJQErrorDecoratorHtml","jFormsJQForm","selector","id","formId","allDependencies","updateInProgress","controlsToUpdate","addControl","itemValue","getChild","aControlName","it","c","list","activate","htmlItem","ctl","deactivate","search","t","match","yy","parseInt","mm","dd","dt","Date","getFullYear","getMonth","getDate","controlId","v","attr","removeAttr","th","tm","ts","getHours","getMinutes","getSeconds","secondsControl","parseFloat","yes","checkboxItem","showActivate","fieldset","toactivate","trim","indexOf","test","form","control","messageType","alert","empty","hide","errid","ul","createElement","first","before","jul","location","hash","html","fadeIn","setErrorDecorator","decorator","getControl","ctrls","child","declareDynamicFill","controlName","dependencies","me","depName","dep","change","updateLinkedElements","updateDynamicList","dynamicFillAjax","buildOrderedControlsList","alreadyCheckedControls","checkedCircularDependency","buildListDependencies","ctrlname","pop","token","param","eltValue","data","select","eq","emptyitem","detach","append","optgroup","addSubmitHandler","handler","beforeCheck","__jforms_jquery","window"],"sourceRoot":""}